{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/legal-prose-templates/{id}/approve/{accept}":{"put":{"tags":["admin"],"description":"Approve/Reject a newly proposed template or proposal to remove a template","operationId":"setLegalStatementTemplateApprovalStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"accept","in":"path","required":true,"schema":{"type":"boolean"}}],"responses":{"400":{"description":"Invalid parameters provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"404":{"description":"A prose template couldn't be found with the provided ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"The prose template status was updated successfully"}}}},"/api/v1/legal-prose-templates":{"get":{"tags":["trader","admin"],"description":"Retrieve a paged collection of APPROVED Legal Prose Templates (without template file data) according to paging and filter parameters","operationId":"getLegalProseTemplates","parameters":[{"name":"filterText","in":"query","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","description":"Page you want to retrieve (0..N)","content":{"*/*":{"schema":{"type":"integer","default":"0"}}}},{"name":"size","in":"query","description":"Number of records per page.","content":{"*/*":{"schema":{"type":"integer","default":"20"}}}},{"name":"sort","in":"query","description":"Sorting criteria in the format: property(,asc|desc). Default sort order is ascending. Multiple sort criteria are supported.","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}],"responses":{"400":{"description":"Invalid page or filter parameters provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"A Paged List of Approved Legal Prose Templates","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagedTemplateResponse"}}}}}},"post":{"tags":["trader","admin"],"description":"Propose a new Legal Prose Template. The request will be subject to a governance process before becoming available in the marketplace. Proposal ID is returned in the response","operationId":"proposeNewLegalProseTemplate","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"proposeTemplateRequest":{"$ref":"#/components/schemas/ProposeTemplateRequest"},"templateFile":{"type":"string","format":"binary"}}},"encoding":{"proposeTemplateRequest":{"contentType":"application/json"}}}}},"responses":{"400":{"description":"Invalid Prose Template definition provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"201":{"description":"A Legal Prose Template was created successfully. The DID of the newly created template is returned","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/v1/legal-prose-templates/{id}":{"get":{"tags":["trader","admin"],"description":"Get a Legal Prose Template by DID","operationId":"getLegalProseTemplate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid id was provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"404":{"description":"A prose template couldn't be found with the provided ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"A Legal Prose Template (including template file) matching the provided id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LegalProseTemplateDetailDto"}}}}}},"delete":{"tags":["trader","admin"],"description":"Propose the removal of a Legal Prose Template by DID. The request will be subject to a governance process before becoming available in the marketplace","operationId":"removeLegalProseTemplate","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid parameters provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"404":{"description":"A prose template couldn't be found with the provided ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiErrorResponse"}}}},"200":{"description":"The prose template status was marked for deletion successfully. Subject to governance decision. Proposal ID is returned in the response","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"ApiErrorResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"errors":{"type":"object","additionalProperties":{"type":"string"}}}},"ProposeTemplateRequest":{"required":["name"],"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"LegalProseTemplateDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string","enum":["PROPOSED","ACTIVE","REJECTED","ARCHIVE_PROPOSED","ARCHIVED"]},"created":{"type":"string","format":"date-time"},"statusUpdated":{"type":"string","format":"date-time"},"archived":{"type":"string","format":"date-time"}}},"PageLegalProseTemplateDto":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/Pageable"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/LegalProseTemplateDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/Sort"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PagedTemplateResponse":{"type":"object","properties":{"pagedTemplates":{"$ref":"#/components/schemas/PageLegalProseTemplateDto"}}},"Sort":{"type":"object","properties":{"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"},"empty":{"type":"boolean"}}},"LegalProseTemplateDetailDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string","enum":["PROPOSED","ACTIVE","REJECTED","ARCHIVE_PROPOSED","ARCHIVED"]},"created":{"type":"string","format":"date-time"},"statusUpdated":{"type":"string","format":"date-time"},"archived":{"type":"string","format":"date-time"},"templateFileData":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}